<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Search Results</title>
</head>
<body>
    <div th:replace="header.html"></div>
    <h1>Search Results</h1>

    <form action="/search" method="get">
        <input type="hidden" name="query" th:value="${query}" />
        <select name="filter" onchange="this.form.submit()">
            <option value="latest" th:selected="${filter == 'latest'}">Latest</option>
            <option value="oldest" th:selected="${filter == 'oldest'}">Oldest</option>
            <option value="views" th:selected="${filter == 'views'}">Most Views</option>
        </select>
    </form>
    
    
    
    <p th:if="${#lists.isEmpty(blogPosts)}">No results found for "<span th:text="${query}"></span>".</p>
    
    <div th:each="blogPost : ${blogPosts}">
        <div style="border: 1px solid #ddd; padding: 10px; margin-bottom: 10px;">
            <h2 th:text="${blogPost.title}"></h2>
            <p>Author: <span th:text="${blogPost.authorName}"></span></p>
            <p th:text="${blogPost.excerpt}"></p>
            <a th:href="@{'/blog/' + ${blogPost.slug}}">Read More</a>
        </div>
    </div>
</body>
</html>
